

/*
    - 1. 전국에 직영점이 여러개
        1. 안산CGV영화관 (주소 , 지점명 , 점장명 등등)
        2. 수원CGV영화관 (주소 , 지점명 , 점장명 등등)

    - 2. 직영점 마다 상영관이 여러개
        1. 안산 CGV 영화관
            1관(수용인원) , 2관(수용인원)
        2. 수원 CGV 영화관    
            VIP관(수용인원), 1관(수용인원)
    - 3. 관 마다 상영중 영화 여러개
        안산 1관 : 아쿠아맨 12:35 아쿠아맨 15:35
        안산 2관 : 아쿠아맨 15:10


*/
const 경기도영화관목록 = []

function 영화(제목, 시간) {
    this.영화제목 = 제목;
    this.영화시간 = 시간;
  }

  // 상영관 객체 생성자 함수
  function 상영관(영화관숫자) {
    this.관명 = 영화관숫자;
    this.좌석수 = 100; // 좌석 수
    this.movies = []; // 영화 목록
  }

  // 영화관 객체 생성자 함수
  function 영화관(지점코드 ,지점명, 주소 , 점장명) {
    this.지점코드 = 지점코드
    this.지점명 = 지점명;
    this.주소 = 주소;
    this.점장명 = 점장명;
    this.상영관목록 = []; // 상영관 목록
    
    // 상영관 추가 
    this.상영관추가 = function (상영관) {
      this.상영관목록.push(상영관);
    };
}
// 안산점 상영관 생성
const 상영관1 = new 상영관("1관")
const 상영관2 = new 상영관("2관")
// 수원점 상영관 생성
const 상영관3 = new 상영관("VIP")
const 상영관4 = new 상영관("1관")
// 안산점 상영관 목록에 영화 추가
상영관1.movies.push(new 영화("아쿠아맨" , "13:50" ))
상영관1.movies.push(new 영화("아쿠아맨" , "16:50" ))
상영관2.movies.push(new 영화("크레센도" , "15:50" ))
상영관2.movies.push(new 영화("크레센도" , "18:50" ))
// 수원점 상영관 목록에 영화추가
상영관3.movies.push(new 영화("노량" , "12:50" ))
상영관3.movies.push(new 영화("노량" , "14:30" ))
상영관4.movies.push(new 영화("서울의봄" , "16:50" ))
상영관4.movies.push(new 영화("서울의봄" , "19:40" ))

// 영화관 생성
const 안산점 = new 영화관(1 ,"안산점" , "안산" , "아무개")
const 수원점 = new 영화관(2 ,"수원점" , "수원" , "홍길동")
// 안산점 상영관 추가
안산점.상영관추가(상영관1);
안산점.상영관추가(상영관2);
// 수원점 상영관 추가
수원점.상영관추가(상영관3);
수원점.상영관추가(상영관4);
// 영화관배열에 목록 추가
경기도영화관목록.push(안산점);
경기도영화관목록.push(수원점);

console.log(경기도영화관목록);


// HTML 출력 만들기 시작
영화관목록출력()
// - 1 영화관 목록 출력
function 영화관목록출력(){
    const 영화관목록출력ul = document.querySelector('#영화관목록출력');
    let html = '';
    for( let i = 0 ; i<경기도영화관목록.length ; i++ ){
        // 배열의 크기만큼 반복문 수행
        // 저장할때 4가지 속성/상태 값을을 "/" 기준으로 하나로 묶었으니까. 다시 "/" 기준으로 분리
        html +=`<li onclick="상영관출력(${경기도영화관목록[i].지점코드})" >${경기도영화관목록[i].지점명}</li>`
    }
    영화관목록출력ul.innerHTML = html;
}


//

function 상영관출력(받은지점코드){
    const 상영관목록출력 = document.querySelector('#상영관목록출력');
    let html = '';
    for( let i = 0 ; i<경기도영화관목록.length ; i++ ){
       if(경기도영화관목록[i].지점코드 == 받은지점코드){
        // 해당 지점코드 비교 찾았으면 상영관 목록 출력
            for(let j = 0 ; j < 경기도영화관목록[i].상영관목록.length; j++){
                html += `<li onclick="영화출력()" >${경기도영화관목록[i].상영관목록[j].관명}</li>`
            }
       }
    }
    상영관목록출력.innerHTML = html;
}